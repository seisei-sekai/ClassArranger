现在描述这个软件执行的事件步骤和名称

我是一个教育机构，我们机构专门做的事就是匹配学生和老师和空余教室然后消除学生支付的剩余的课时。

然后每个学生希望上课的（1）可能性时间段 （2）课是否是每周巡回上 （3）每次课的时长 （4）希望哪几次由哪几个老师上 等（5,6,7,8更多），约束有很多，所以作为管理员我要将这些学生的课去一个一个去找老师去排课，会非常繁琐。因为要考虑到（1）同时有很多学生也在进行这种定制化的找老师排课，老师资源会很抢手，每因为一个同学和老师匹配到了以后，可能会出现的另一个学生排不到相应老师的情况 （2）教室可能来不及使用 等（3）（4）（5）（6）各种问题。

所以现在我设计了一个排课系统让学生和老师和教室一起编排，寻找一种或多种最优解，使得所有学生和老师和教室都能在互相不干扰下形成最优排课组合，并且该系统还可以让管理员进行微调，使得有临时变动了课程但是并不会特别大的让整个课程系统进行重新调整。

所以我现在设计了一个系统，叫做个性化约束系统，简称约束系统，接下来是约束系统有的数据结构和算法：
（0）坐标系统：所有事件都是在‘日历’这个画布上进行操作，日历就是坐标体系，例如2026/1/25号1:30-2:00这三十分钟就是一个坐标，坐标内可存放json文件（坐标的时长可以默认先量化为30分钟）

（1）学生约束系统：每个学生都会有独特的需要排课时间的rule，例如张三要求“从12/1号开始上课，然后12/14号结束上课，然后中间要上满20课时，第一周的周三周四下午4-6点不行，第二周的周五整天不行，第一周要王老师上课。“ 这里面就有7个约束，第一个是硬起始时间，第二个是硬结束时间，第三个是总共课时要求，第四五六都是自定义的规则（四是第一周周三下午4-6点不行，五是第一周周四下午4-6点不行，六是第二周的周五整天不行，第七个就是第一周要王老师上课。”

每个学生有每个学生自己的独特的约束要求。我要求添加每一个学生的时候，设计一套系统可以parse进这些独特需求，从而转成一种unversal的interface使得在底层和数据层面交互的时候，可以进行标准化模版化操作。

在单独实现学生的约束系统的时候，不用实现和可用的老师的事件进行matching的情况。

（2）教师约束系统：有很多教师，每位教师的情况都不大一样，但是每位教师有自己的可上课时间，可以上的课程，以及各种，叫做教师约束系统。从而转成一种unversal的interface使得在底层和数据层面交互的时候，可以进行标准化模版化操作。例如有个老师叫李老师，每周1，4，5的下午两点到晚上8点可以上课，可以上日语数学和一对一论文指导。那这里就有不少约束可以拆分。

请设计一套系统PRD，把这个约束系统给讲明白，并且设计一个数据结构和算法使得写生的约束系统和老师的约束系统可以成为可能，当然优先的先是有全部的学生的约束系统，然后先看某个学生的约束，尝试匹配老师的约束，一直匹配下去，直到发现是死胡同再倒回去换策略（深度优先搜索DFS）。我把实际数据给到你，请你开始设计。

（智能parser可以用chatgpt llm来parse，写独特的prompt，但是要考虑数据该如何存储成在日历上的数据结构方便和老师的约束条件进行匹配）
