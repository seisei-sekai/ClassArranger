# 新约束系统快速开始

## 🎯 核心概念

**10类约束系统** - 标准化、可组合的约束类型，支持硬约束（必须满足）和软约束（尽量满足）。

## 🚀 3分钟上手

### 1. 生成测试数据

```
点击 [测试数据] → 选择 [真实规模] → [生成]
```

### 2. 查看AI生成的约束

```
点击任意学生卡片 → 右侧约束面板打开 → 查看10类约束
```

### 3. 一键排课

```
点击右下角 [一键排课] → 等待完成 → 查看日历
```

---

## 📝 添加真实学生数据

### Excel导入 + AI自动解析

1. 点击「添加学生」
2. 粘贴Excel数据
3. 系统询问：**「是否进行AI智能约束解析？」**
   - 点击「立即解析」→ AI自动识别约束
   - 点击「稍后手动」→ 使用默认约束（全周可用）

### 手动AI解析

如果之前跳过了自动解析：

1. 确保学生已导入
2. 点击学生面板的「AI解析」按钮
3. 批量解析所有未解析的学生

---

## ✏️ 编辑约束

### 快速编辑

1. **打开**: 点击学生卡片
2. **添加约束**: 找到约束类型 → 点 **+** → 填写 → 保存
3. **编辑约束**: 点约束卡片的「编辑」→ 修改 → 保存
4. **删除约束**: 点约束卡片的「删除」→ 确认

### 快捷模板（时间窗口）

- 「工作日晚上」: 周一至周五 18:00-21:00
- 「周末全天」: 周六、周日 09:00-21:00
- 「平日白天」: 周一至周五 09:00-17:00

---

## 🔄 重新排课

修改约束后：

1. 学生卡片显示 🟠 橙色点
2. 在约束面板点「重新排课」
3. 或主界面点「一键排课」

---

## 🎨 约束类型速查

| 图标 | 类型 | 用途 | 强度 |
|------|------|------|------|
| 🕐 | 时间窗口 | 可上课时段 | 软 |
| 🚫 | 禁排时间 | 不能上课 | 硬 |
| 📌 | 固定课时 | 已约定时间 | 硬 |
| 📅 | 时间范围 | 开始/结束/截止 | 硬 |
| 📊 | 课程计划 | 次数/频次/时长 | 软 |
| 👨‍🏫 | 资源偏好 | 教师/校区/方式 | 可选 |
| ⚠️ | 避免冲突 | 不重叠 | 硬 |
| 🎯 | 排课策略 | 分布策略 | 软 |
| 💳 | 课时资格 | 订单/到账 | 硬 |
| 🚦 | 流程门禁 | 流程状态 | info |

---

## ⚡ 常用操作

### 批量操作

- **批量AI解析**: 学生面板 → 「AI解析」按钮
- **全选学生**: 学生面板 → 「全选显示」按钮
- **清空数据**: 右上角 → 「清空」按钮

### 数据管理

- **导出数据**: Debug Log → 复制对应区域
- **导入数据**: 粘贴Excel数据 → 解析
- **备份数据**: 定期使用Debug Log保存快照

---

## 🐛 问题排查

### 排课失败

**检查清单**:
- [ ] 学生是否有有效约束？
- [ ] 时间窗口是否为空？
- [ ] 禁排时间是否过多？
- [ ] 教师是否有可用时间？
- [ ] 教室是否足够？

### AI解析失败

**原因**:
- OpenAI API未配置
- 网络连接问题
- API额度不足

**解决**: 参考 [OpenAI API配置指南](../../docs/openai-setup-guide.md)

---

## 📞 获取帮助

- 详细文档: `docs/experiment3-constraint-system-guide.md`
- 技术架构: `docs/experiment3-architecture.md`
- 约束抽象: `business/前途塾1v1_约束抽象.md`
