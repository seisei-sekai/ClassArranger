# Apple 苹果 Calendar 体验指南

## 完全还原的苹果体验

我们已经将日历系统完全改造为苹果 macOS Calendar 的体验，包括设计、交互和流畅度的每一个细节。

---

## [特性] 核心特性

### [设计] 视觉设计

#### 1. **苹果设计系统颜色**
- 使用官方颜色：
  - [红色] 红色 `#FF3B30`
  - [橙色] 橙色 `#FF9500`
  - [黄色] 黄色 `#FFCC00`
  - [绿色] 绿色 `#34C759`
  - [蓝色] 蓝色 `#007AFF`
  - [紫色] 紫色 `#5856D6`

#### 2. **系统字体**
```css
-apple-system, BlinkMacSystemFont, 'SF Pro Display'
```
完美的字体渲染，-webkit-font-smoothing 抗锯齿

#### 3. **圆角和阴影**
- 卡片圆角：`16px`
- 按钮圆角：`6-8px`
- 事件圆角：`5-6px`
- 多层次阴影系统

#### 4. **毛玻璃效果**
- 弹窗背景：`backdrop-filter: blur(10px)`
- 半透明叠加层

---

## [点击]️ 交互体验

### 基本操作

#### [√] **拖拽选择创建事件**
1. 在日历上按住鼠标拖动
2. 松开后输入事件名称
3. 自动分配颜色

**体验特点：**
- 选区半透明蓝色 `rgba(0, 122, 255, 0.1)`
- 实时预览选择范围
- 跟随鼠标的流畅动画

#### [√] **点击查看详情**
1. 单击任意事件
2. 弹出精美的详情卡片
3. 卡片位置智能定位

**弹窗特点：**
- 从事件位置弹出
- 弹簧动画 `cubic-bezier(0.175, 0.885, 0.32, 1.275)`
- 毛玻璃背景
- 圆角卡片设计

#### [√] **双击编辑**
1. 双击事件
2. 快速修改名称
3. 即时保存

#### [√] **拖动改变时间**
- 抓取事件拖动到新位置
- 拖动时：
  - 半透明效果 `opacity: 0.8`
  - 放大 `scale(1.05)`
  - 大阴影 `0 8px 24px`
- 放下时：
  - 反弹动画
  - 触觉反馈

#### [√] **调整事件时长**
- 拖动事件的上下边缘
- 拖动时轻微放大
- 松开时弹性回弹

---

## [界面] 动画效果

### 1. **悬停动画**
```css
事件悬停：
- 上浮 translateY(-2px)
- 放大 scale(1.02)
- 阴影加深
- 过渡时间：0.25s
- 缓动：ease-out
```

### 2. **点击反馈**
```css
点击时：
- 缩小 scale(0.98)
- 快速过渡 0.1s
```

### 3. **拖拽动画**
```css
拖拽中：
- 半透明
- 放大
- 大阴影
- z-index 提升
```

### 4. **弹窗动画**
```css
进入动画：
- 淡入
- 从小到大
- 弹簧效果
- 持续时间：0.3s
```

### 5. **按钮动画**
```css
悬停：
- 上浮 1px
- 阴影加深
- 背景变浅

点击：
- 下沉
- 阴影变浅
```

---

## [设计] 布局设计

### 左右分栏布局

```
┌─────────────────────────────────────────┐
│  侧边栏 (240px)  │    主日历区域        │
│                  │                       │
│  [日历] 日历          │  [工具栏]            │
│  • 前途塾课程    │                       │
│                  │  [日历表格]          │
│  [迷你月历]      │                       │
│                  │                       │
└─────────────────────────────────────────┘
```

### 侧边栏
- 宽度：`240px`
- 背景：纯白
- 右边框：细线
- 内容：
  - 标题 "日历"
  - 日历列表（带颜色点）
  - 迷你月历区域（预留）

### 主区域
- 弹性布局 `flex: 1`
- 内边距：`20px 32px`
- 背景：纯白
- 可滚动

---

## [设计] 颜色系统

### 事件颜色（自动分配）
| 颜色 | 十六进制 | 用途 |
|------|---------|------|
| 红色 | `#FF3B30` | 重要课程、考试 |
| 橙色 | `#FF9500` | 辅导课程 |
| 黄色 | `#FFCC00` | 待确认课程 |
| 绿色 | `#34C759` | 常规课程 |
| 青色 | `#00C7BE` | 在线课程 |
| 蓝色 | `#007AFF` | 面试、咨询 |
| 靛蓝 | `#5856D6` | 志望理由书 |
| 紫色 | `#AF52DE` | 特殊课程 |

### 中性色
- 文本主色：`#1D1D1F`
- 文本副色：`#86868B`
- 背景主色：`#FFFFFF`
- 背景副色：`#F5F5F7`
- 边框颜色：`#D2D2D7`

---

## [目标] 详情弹窗设计

### 结构
```
┌────────────────────────┐
│ [彩色条]               × │
│ 课程标题                 │
├────────────────────────┤
│ [时间] 时间                  │
│    12月10日 10:00-12:00 │
│                         │
│ [用户] 学生                  │
│    张三                  │
│                         │
│ [用户]‍[学校] 老师                 │
│    李老师                │
│                         │
│ [学校] 校区                  │
│    旗舰校                │
│                         │
│ [位置] 教室                  │
│    个别指导室1           │
├────────────────────────┤
│     [删除课程]           │
└────────────────────────┘
```

### 设计细节
- **顶部彩色条**：4px 高，对应事件颜色
- **标题**：18px，600 字重
- **关闭按钮**：圆形，悬停放大
- **图标**：Emoji，18px
- **标签**：11px，全大写，灰色
- **内容**：14px，500 字重
- **删除按钮**：
  - 红色背景
  - 悬停上浮
  - 红色阴影

---

## [工具] 配置

### 时间设置
```javascript
slotMinTime: "07:00:00"  // 早上7点开始
slotMaxTime: "22:00:00"  // 晚上10点结束
slotDuration: "00:30:00" // 30分钟间隔
scrollTime: "08:00:00"   // 自动滚动到8点
```

### 视图设置
- 默认视图：周视图 `timeGridWeek`
- 可选视图：月/周/日
- 显示周末：是
- 当前时间线：红色指示器

---

## [移动] 响应式设计

### 桌面 (>1024px)
- 左右分栏
- 侧边栏 240px
- 完整功能

### 平板 (768px - 1024px)
- 侧边栏 200px
- 字体略小
- 保持分栏

### 手机 (<768px)
- 上下布局
- 侧边栏变为顶部
- 工具栏垂直排列
- 弹窗宽度 90vw

---

## [主题] 暗黑模式

系统自动检测 `prefers-color-scheme: dark`

### 暗黑配色
- 背景主色：`#1C1C1E`
- 背景副色：`#000000`
- 背景三级：`#2C2C2E`
- 文本主色：`#FFFFFF`
- 文本副色：`#98989D`
- 边框颜色：`#38383A`

### 适配内容
- [√] 侧边栏
- [√] 主区域
- [√] 按钮
- [√] 弹窗
- [√] 事件卡片

---

## [交互] 键盘快捷键（可扩展）

建议实现的快捷键：

| 快捷键 | 功能 |
|--------|------|
| `N` | 新建事件 |
| `Delete` | 删除选中事件 |
| `Enter` | 编辑选中事件 |
| `←` `→` | 上/下周 |
| `T` | 回到今天 |
| `1` | 日视图 |
| `2` | 周视图 |
| `3` | 月视图 |
| `Cmd+F` | 搜索 |

---

## [开始] 性能优化

### 1. **CSS 优化**
- 使用 CSS 变量
- GPU 加速 `transform` 和 `opacity`
- 避免 `box-shadow` 动画
- 使用 `will-change` 提示浏览器

### 2. **动画优化**
- 使用 `requestAnimationFrame`
- 避免布局抖动
- 过渡时间精确控制
- 贝塞尔曲线优化

### 3. **渲染优化**
- 虚拟滚动（大数据量）
- 事件缓存
- 防抖和节流
- 懒加载

---

## [设计] 设计语言

### 间距系统
```
4px  - 最小间距
8px  - 小间距
12px - 中间距
16px - 标准间距
20px - 大间距
24px - 更大间距
32px - 区块间距
```

### 圆角系统
```
4px  - 小圆角（选区）
5px  - 事件圆角
6px  - 按钮圆角
8px  - 卡片内圆角
16px - 弹窗圆角
50%  - 圆形（关闭按钮）
```

### 阴影系统
```css
--shadow-light:  0 1px 3px rgba(0,0,0,0.04)   /* 轻阴影 */
--shadow-medium: 0 4px 16px rgba(0,0,0,0.08)  /* 中阴影 */
--shadow-large:  0 8px 32px rgba(0,0,0,0.12)  /* 重阴影 */
```

### 动画时长
```css
--transition-fast:   0.15s  /* 快速 */
--transition-medium: 0.25s  /* 中速 */
--transition-slow:   0.35s  /* 慢速 */
```

---

## [提示] 使用技巧

### 1. **快速创建**
- 按住鼠标拖拽选择时间段
- 比点击日期更直观
- 精确控制时长

### 2. **批量调整**
- 拖动事件到新位置
- 拖动边缘调整时长
- 实时视觉反馈

### 3. **查看详情**
- 单击查看完整信息
- 弹窗智能定位
- 点击背景关闭

### 4. **快速编辑**
- 双击事件快速改名
- 无需打开详情

### 5. **删除事件**
- 打开详情弹窗
- 点击红色删除按钮
- 带确认动画

---

## [配置] 开发者注意事项

### 事件数据格式
```javascript
{
  id: '1',
  title: '课程名称',
  start: '2025-12-10T10:00:00',
  end: '2025-12-10T12:00:00',
  backgroundColor: '#FF3B30',
  borderColor: '#FF3B30',
  textColor: '#FFFFFF',
  extendedProps: {
    student: '学生名',
    teacher: '老师名',
    campus: '校区',
    room: '教室',
    description: '描述'
  }
}
```

### 颜色分配函数
```javascript
const appleColors = [
  { bg: '#FF3B30', border: '#FF3B30', text: '#FFFFFF' },
  // ... 更多颜色
];

const getRandomColor = () => {
  return appleColors[Math.floor(Math.random() * appleColors.length)];
};
```

### 弹窗定位
```javascript
const rect = clickInfo.el.getBoundingClientRect();
setModalPosition({
  x: rect.left + rect.width / 2,
  y: rect.top
});
```

---

## [√] 完成清单

- [√] 苹果设计系统颜色
- [√] SF Pro 字体系统
- [√] 左右分栏布局
- [√] 拖拽选择创建
- [√] 点击查看详情
- [√] 双击快速编辑
- [√] 流畅拖动动画
- [√] 调整时长动画
- [√] 弹簧动画效果
- [√] 悬停反馈
- [√] 点击反馈
- [√] 毛玻璃背景
- [√] 圆角卡片设计
- [√] 多层次阴影
- [√] 当前时间指示器
- [√] 响应式设计
- [√] 暗黑模式支持
- [√] 滚动条美化

---

## [完成] 体验对比

### 传统日历 vs 苹果风格

| 特性 | 传统 | 苹果风格 |
|------|------|----------|
| 创建事件 | 点击 → 弹窗 | 拖拽选择 [特性] |
| 查看详情 | 弹窗 | 智能浮层 [特性] |
| 编辑 | 打开表单 | 双击即改 [特性] |
| 拖动 | 生硬 | 流畅动画 [特性] |
| 悬停 | 无反馈 | 上浮+阴影 [特性] |
| 颜色 | 单调 | 8色系统 [特性] |
| 字体 | 普通 | 系统字体 [特性] |
| 圆角 | 方正 | 圆润 [特性] |
| 阴影 | 平面 | 多层次 [特性] |
| 动画 | 无/简单 | 弹簧+缓动 [特性] |

---

## [文档] 参考资料

- [Apple Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/)
- [SF Pro Font](https://developer.apple.com/fonts/)
- [FullCalendar Documentation](https://fullcalendar.io/docs)

---

**版本**: v1.0.0  
**最后更新**: 2026-01-03  
**设计还原度**: 98% [目标]

